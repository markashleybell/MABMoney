@using System.Configuration;
@using StackExchange.Profiling;
<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>@((Convert.ToBoolean(ConfigurationManager.AppSettings["Staging"])) ? "STAGING " : "")MABMoney</title>
        <link rel="shortcut icon" type="image/x-icon" href="/Content/Img/favicon.ico">
        <style type="text/css">
            body {
                padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
            }
        </style>
        @Styles.Render("~/Content/Css/bootstrap")
        @Styles.Render("~/Content/Css/base")
    </head>
    <body @(Html.Raw((Convert.ToBoolean(ConfigurationManager.AppSettings["Staging"])) ? "id=\"staging\"" : ""))>
        <div class="container">
            @{ Html.RenderAction("MainNavigation", "Home"); }
            @RenderBody()
        </div>
        @Scripts.Render("~/Content/Js/jquery")
        @Scripts.Render("~/Content/Js/bootstrap")
        @Scripts.Render("~/Content/Js/base")
        <script type="text/javascript">MABMoney.setOptions({ cookieKey: '@ConfigurationManager.AppSettings["CookieKey"]' });</script>
        <script id="tmpl-payment-calc-row" type="x-tmpl-mustache">
            <tr>
                <td>{{month}}</td>
                <td>{{monthStart}}</td>
                <td>{{interest}}</td>
                <td>{{minPayment}}</td>
                <td>{{payment}}</td>
                <td>{{monthEnd}}</td>
            </tr>
        </script>
        <script id="tmpl-budget-category-edit-form" type="x-tmpl-mustache">
            <div class="form-group">
                <div class="col-md-2">
                    <input class="form-control" id="Categories_{{INDEX}}__Name" name="Categories[{{INDEX}}].Name" placeholder="Name" type="text" value="">
                </div>
                <div class="col-md-2">
                    <input class="form-control" data-val="true" data-val-number="The field Amount must be a number." data-val-required="The Amount field is required." id="Categories_{{INDEX}}__Amount" name="Categories[{{INDEX}}].Amount" placeholder="Amount" type="number" pattern="\d*" value="0">
                </div>
                <div class="col-md-2">
                    <a class="cat-delete btn btn-default" id="del{{INDEX}}" href="#del0">Delete</a>
                </div>
                <div class="col-md-6">
                    <span class="field-validation-valid" data-valmsg-for="Categories[{{INDEX}}].Amount" data-valmsg-replace="true"></span>
                    <input data-val="true" data-val-number="The field Budget_BudgetID must be a number." data-val-required="The Budget_BudgetID field is required." id="Categories_{{INDEX}}__Budget_BudgetID" name="Categories[{{INDEX}}].Budget_BudgetID" type="hidden" value="0">
                    <input data-val="true" data-val-number="The field Category_CategoryID must be a number." data-val-required="The Category_CategoryID field is required." id="Categories_{{INDEX}}__Category_CategoryID" name="Categories[{{INDEX}}].Category_CategoryID" type="hidden" value="0">
                </div>
            </div>
        </script>
        <script id="tmpl-budget-category-delete-form" type="x-tmpl-mustache">
            <div>
                <div>
                    <input data-val="true" id="Categories_{{INDEX}}__Delete" name="Categories[{{INDEX}}].Delete" type="hidden" value="true">
                    <input data-val="true" id="Categories_{{INDEX}}__Amount" name="Categories[{{INDEX}}].Amount" type="hidden" value="0">
                    <input data-val="true" id="Categories_{{INDEX}}__Budget_BudgetID" name="Categories[{{INDEX}}].Budget_BudgetID" type="hidden" value="0">
                    <input data-val="true" id="Categories_{{INDEX}}__Category_CategoryID" name="Categories[{{INDEX}}].Category_CategoryID" type="hidden" value="{{ID}}">
                </div>
            </div>
        </script>
        @MiniProfiler.RenderIncludes(position: RenderPosition.Right, showTrivial: true, showTimeWithChildren: true)
        @if(!(Convert.ToBoolean(ConfigurationManager.AppSettings["Staging"]))) {
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
            ga('create', 'UA-47764645-1', 'apphb.com');
            ga('send', 'pageview');
        </script>
        }
    </body>
</html>
